<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guia Turístico - Sua Localização</title>
    
    <!-- Deprecation Notice -->
    <link rel="stylesheet" href="deprecation.css" />
    <script src="deprecation.js"></script>
    
    <!-- Resource Hints for Performance -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="https://nominatim.openstreetmap.org">
    <link rel="dns-prefetch" href="https://servicodados.ibge.gov.br">
    <link rel="dns-prefetch" href="https://pt.wikipedia.org">
    
    <!-- Critical CSS -->
    <link rel="stylesheet" href="skip-link.css" />
    <link rel="stylesheet" href="typography.css" />
    <link rel="stylesheet" href="reduced-motion.css" />
    <link rel="stylesheet" href="loading-states.css" />
    <link rel="stylesheet" href="touch-device-fixes.css" />
    <link rel="stylesheet" href="design-patterns.css" />
    <link rel="stylesheet" href="accessibility-compliance.css" />
    <link rel="stylesheet" href="performance-optimizations.css" />
    <link rel="stylesheet" href="navigation.css" />
    <link rel="stylesheet" href="geolocation-banner.css" />
    <link rel="stylesheet" href="version-display.css" />
    <link rel="stylesheet" href="tooltip.css" />
    <link rel="stylesheet" href="noscript.css" />
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
    
    <!-- No JavaScript Fallback -->
    <noscript>
      <div class="noscript-banner" role="alert">
        <h2>JavaScript Desabilitado</h2>
        <p><strong>Este aplicativo requer JavaScript para funcionar.</strong></p>
        <p>O Guia Turístico usa geolocalização do navegador e APIs externas que necessitam JavaScript ativo.</p>
      </div>
      
      <div class="noscript-instructions">
        <h3>Como Habilitar JavaScript</h3>
        
        <div class="browser-help">
          <h4>Google Chrome / Microsoft Edge</h4>
          <ol>
            <li>Clique no menu (três pontos) no canto superior direito</li>
            <li>Selecione <strong>Configurações</strong></li>
            <li>Vá para <strong>Privacidade e segurança</strong> → <strong>Configurações do site</strong></li>
            <li>Clique em <strong>JavaScript</strong></li>
            <li>Selecione <strong>Permitir que os sites usem JavaScript</strong></li>
            <li>Recarregue esta página</li>
          </ol>
        </div>
        
        <div class="browser-help">
          <h4>Mozilla Firefox</h4>
          <ol>
            <li>Digite <code>about:config</code> na barra de endereços</li>
            <li>Clique em <strong>Aceitar o Risco e Continuar</strong></li>
            <li>Pesquise por <code>javascript.enabled</code></li>
            <li>Altere o valor para <strong>true</strong></li>
            <li>Recarregue esta página</li>
          </ol>
        </div>
        
        <div class="browser-help">
          <h4>Safari (macOS)</h4>
          <ol>
            <li>Abra <strong>Safari</strong> → <strong>Preferências</strong></li>
            <li>Vá para a aba <strong>Segurança</strong></li>
            <li>Marque a opção <strong>Ativar JavaScript</strong></li>
            <li>Recarregue esta página</li>
          </ol>
        </div>
      </div>
      
      <div class="noscript-alternatives">
        <h4>Alternativas Sem JavaScript</h4>
        <ul>
          <li>
            <strong>Google Maps:</strong> 
            <a href="https://www.google.com/maps" target="_blank" rel="noopener noreferrer">
              maps.google.com
            </a> - Encontre restaurantes e locais próximos
          </li>
          <li>
            <strong>OpenStreetMap:</strong> 
            <a href="https://www.openstreetmap.org" target="_blank" rel="noopener noreferrer">
              openstreetmap.org
            </a> - Mapa colaborativo de código aberto
          </li>
          <li>
            <strong>IBGE Cidades:</strong> 
            <a href="https://cidades.ibge.gov.br" target="_blank" rel="noopener noreferrer">
              cidades.ibge.gov.br
            </a> - Estatísticas oficiais dos municípios brasileiros
          </li>
          <li>
            <strong>Nominatim (OSM):</strong> 
            <a href="https://nominatim.openstreetmap.org" target="_blank" rel="noopener noreferrer">
              Conversor de coordenadas
            </a> - Converta coordenadas para endereços
          </li>
        </ul>
      </div>
    </noscript>
    <!-- Version Display -->
    <div class="app-version" role="status" aria-live="polite" aria-label="Versão do aplicativo">
      v 0.2.0 | 2025-12-16
    </div>
    
    <header>
      <h1>Guia Turístico</h1>
      <p>Descubra sua localização e encontre restaurantes e estatísticas da cidade próximos.</p>
      <p>
        <abbr title="Dados salvos localmente para acesso rápido" aria-label="Cache: dados salvos localmente">Cache</abbr>: 
        <span id="tam-cache" aria-live="polite">0</span> itens
      </p>
    </header>

    <nav class="app-navigation" aria-label="Navegação principal">
      <ul>
        <li><a href="index.html" class="current-page" aria-current="page" aria-label="Página inicial (página atual)">Página Inicial</a></li>
        <li><a href="address-converter.html" aria-label="Ir para conversor de endereços">Conversor de Endereços</a></li>
        <li><a href="loc-em-movimento.html" aria-label="Ir para localização em movimento">Localização em Movimento</a></li>
      </ul>
    </nav>

    <nav aria-label="Ações da página">
      <div class="button-container">
        <button 
          id="findRestaurantsBtn" 
          disabled 
          aria-disabled="true"
          aria-describedby="restaurants-status"
          aria-label="Encontrar restaurantes próximos"
        >
          <span class="button-text">Encontrar Restaurantes Próximos</span>
          <span class="button-loading" aria-hidden="true" hidden>⏳</span>
        </button>
        <span id="restaurants-status" class="button-status" role="status" aria-live="polite">
          Aguardando localização...
        </span>
      </div>
      
      <div class="button-container">
        <button 
          id="cityStatsBtn" 
          disabled 
          aria-disabled="true"
          aria-describedby="stats-status"
          aria-label="Obter estatísticas da cidade"
        >
          <span class="button-text">Obter Estatísticas da Cidade</span>
          <span class="button-loading" aria-hidden="true" hidden>⏳</span>
        </button>
        <span id="stats-status" class="button-status" role="status" aria-live="polite">
          Aguardando localização...
        </span>
      </div>
    </nav>
    
    <main id="main-content">
      <!-- Geolocation status banner container -->
      <div id="geolocation-banner-container"></div>

      <!-- Location Highlight Cards -->
      <section class="location-highlights" aria-label="Destaques de localização">
        <div class="highlight-card" role="region" aria-labelledby="municipio-label">
          <div id="municipio-label" class="highlight-card-label">Município</div>
          <div id="municipio-value" class="highlight-card-value" aria-live="polite">—</div>
        </div>
        <div class="highlight-card" role="region" aria-labelledby="bairro-label">
          <div id="bairro-label" class="highlight-card-label">Bairro</div>
          <div id="bairro-value" class="highlight-card-value" aria-live="polite">—</div>
        </div>
      </section>

      <section id="coordinates" aria-labelledby="coordinates-heading">
        <h2 id="coordinates-heading" class="sr-only">Coordenadas</h2>
        <p><strong>Coordenadas:</strong> <span id="lat-long-display" aria-live="polite">Aguardando localização...</span></p>
      </section>

      <section id="reference-place" aria-labelledby="reference-place-heading">
        <h2 id="reference-place-heading" class="sr-only">Local de Referência</h2>
        <p><strong>Local de referência:</strong> <span id="reference-place-display" aria-live="polite">Aguardando localização...</span></p>
      </section>

      <section id="standardized-address" aria-labelledby="address-heading">
        <h2 id="address-heading" class="sr-only">Endereço Padronizado</h2>
        <p><strong>Endereço padronizado:</strong> <span id="endereco-padronizado-display" aria-live="polite">Aguardando localização...</span></p>
      </section>

      <section class="section" id="dadosSidra" aria-labelledby="location-info-heading">
        <h2 id="location-info-heading">Informações da Localização</h2>
      </section>
      
      <section id="locationResult" aria-live="polite" aria-label="Resultado da localização">
        <p>As informações da sua localização aparecerão aqui.</p>
      </section>
    </main>
    <script src="https://cdn.jsdelivr.net/gh/mpbarbosa/sidra.js@main/sidra.js"></script>
    <script src="error-recovery.js"></script>
    <script src="geolocation-banner.js"></script>
    <script type="module" src="index.js"></script>
  </body>
</html>
